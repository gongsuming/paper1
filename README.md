# paper1
关于论文的一些说明：

1. 对于DS模块，当拥有较好的预训练时，将DS模块中的GN注释掉效果更好，sigmoid()函数则看情况选择。

2. 由于之前编写代码不成熟，导致整体运行效率较低，特意重新编写了代码，并进行了测试，结果如下表，该结果只是比较粗糙的结果，并没有再去优化。实验采用ResNet50作为Baseline，每个视频采样8帧RGB作为输入，从结果来看，本文模块正确率提升不错。计算量使用thop包计算，从结果来看，DS和ST差不多，但实际花费时间差很多，可能原因是：ST使用的个数更多；ST中的矩阵乘法很耗时而thop包并不计算该操作。论文中主要展示方法思想，因此对新的实验数据并未进行更新修正，特在此说明一下。

   | 方法        | 计算量(G)    | UCF101(%) | UCF101测试集上花费时间(s) |
   | ----------- | ------------ | --------- | ------------------------- |
   | Baseline    | 32.892116992 | 89.01     | 94                        |
   | Baseline+DS | 32.907108352 | 90.02     | 95                        |
   | Baseline+ST | 33.186966128 | 90.30     | 238                       |

3. 下面对DS的一些细节进行了简单的消融实验。由于这次有相对较好的预训练，因此省略了GN。noX表示代码中的SELayer_numberX。noXX表示代码中的SELayer_numberX+focalloss。ST也可以讨论嵌入位置和个数，精力有限就没做了。

   | 编号 | GN   | Sigmoid | 乘法 | 加法 | focalloss | ReLU6 | UCF101(%) |
   | ---- | ---- | ------- | ---- | ---- | --------- | ----- | --------- |
   | no1  | ×    | √       | √    | ×    | ×         | ×     | 90.854    |
   | no2  | ×    | √       | ×    | √    | ×         | ×     | 90.325    |
   | no3  | ×    | ×       | ×    | √    | ×         | ×     | 90.563    |
   | no4  | ×    | √       | √    | ×    | ×         | √     | 89.955    |
   | no11 | ×    | √       | √    | ×    | √         | ×     | 91.118    |
   | no21 | ×    | √       | ×    | √    | √         | ×     | 91.515    |
   | no31 | ×    | ×       | ×    | √    | √         | ×     | 92.043    |

4. 为了直观证明本论文模块的有效性，针对DS模块进行了热力图可视化结果展示。利用源码文件heat-map.py可以跑本文或自己方法的可视化结果。在本次实验中，选取2个视频段作为输入文件。Baseline的可视化结果为：Baseline-demo1.gif、Baseline-demo2.gif。本文DS模块的可视化结果为Ours-demo1.gif、Ours-demo2.gif。从gif结果来看，第一个视频两者表现差不多，我们的DS略好；在第二个视频上，我们的DS明显优于Baseline。 由于GitHub的原因，gif图显示不了，有以下2个解决方法： 1> 将本项目下载到本地。 2> 连上VPN，再打开本项目。

5. 本文只提供UCF101上的RGB的PTH文件：（其余自行训练即可） 链接：https://pan.baidu.com/s/1qPWA5kqrgW2IHv0AgY3KQg  提取码：reuy 。 链接失效，可发邮件至：18252588127@163.com

6. 跑代码的详细介绍可参考https://github.com/mit-han-lab/temporal-shift-module。 感谢《TSM》作者开源项目的帮助。

